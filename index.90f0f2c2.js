function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequirec2b7;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequirec2b7=r),r("8pSXg");var i,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),v=Object.prototype.toString,h=Math.max,y=Math.min,g=function(){return p.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}i=function(e,t,n){var o,r,i,a,s,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=o,i=r;return o=r=void 0,l=t,a=e.apply(i,n)}function v(e){return l=e,s=setTimeout(L,t),u?p(e):a}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=i}function L(){var e=g();if(w(e))return j(e);s=setTimeout(L,function(e){var n=t-(e-c);return d?y(n,i-(e-l)):n}(e))}function j(e){return s=void 0,f&&o?p(e):(o=r=void 0,a)}function T(){var e=g(),n=w(e);if(o=arguments,r=this,c=e,n){if(void 0===s)return v(c);if(d)return s=setTimeout(L,t),p(c)}return void 0===s&&(s=setTimeout(L,t)),a}return t=b(t)||0,m(n)&&(u=!!n.leading,i=(d="maxWait"in n)?h(b(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),T.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=c=r=s=void 0},T.flush=function(){return void 0===s?a:j(g())},T};var w=r("eaD4R"),L=r("kvr73"),j=r("2nhTy"),T=r("g4lwF"),E=r("eWCmQ"),I=r("8pSXg");let x,k="";const C=new(0,L.default);async function S(){C.query=w.input.value.trim();const e=await N();if(e.total_results>20){w.pagiContainer.removeAttribute("style");(0,j.default)(e.total_results,20,w.pagiContainer).on("afterMove",M)}else e.total_results||E.Notify.failure("We are sorry, but we don't have such films."),w.pagiContainer.setAttribute("style","display: none");sessionStorage.setItem("window","home")}async function M(e){C.page=e.page;await N()}async function N(){w.loader.classList.remove("visually-hidden");try{w.checkbox.checked||C.year?(x=await C.fetchFilter(),x.total_results>1e4&&(x.total_results=1e4)):(x=C.query?await C.fetchFilms():await C.fetchPopular(),console.log("data",x)),k&&x.results.sort(((e,t)=>t[k]-e[k])),w.gallery.innerHTML=(0,T.createMarkup)(x.results),localStorage.setItem("LS",JSON.stringify(x.results))}catch(e){console.log(e),E.Notify.info("Ð¡heck your internet and try again please.")}return w.loader.classList.add("visually-hidden"),x}function O(){w.checkbox.checked?(w.inputSearch.setAttribute("style","opacity: 0"),w.genreChoice.removeAttribute("style")):(w.genreChoice.setAttribute("style","opacity: 0"),w.inputSearch.removeAttribute("style"))}w.input.addEventListener("input",e(i)(S,300)),w.checkbox.addEventListener("change",O),(0,I.checkLogin)(),O(),S(),r("dmm04");w=r("eaD4R");var A=r("eRClg");async function R(e){if("sort"===e.target.name)return t=e.target.value,k=t,x.results.sort(((e,t)=>t[k]-e[k])),w.gallery.innerHTML=(0,T.createMarkup)(x.results),void console.log(e.target.value);var t;w.loader.classList.remove("visually-hidden"),C[e.target.name]=e.target.value,console.log(C),S(),w.loader.classList.add("visually-hidden")}w.filterInput.forEach((e=>e.addEventListener("change",R))),function(){const t=Object.keys(e(A)),n=[];for(const o of t)n.push(`<option value="${o}">${e(A)[o]}</option>`);w.genreChoice.insertAdjacentHTML("beforeend",n.join(""))}(),function(){let e=(new Date).getFullYear(),t=[];w.yearChoice.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(let n=e;n>1969;n-=1)t.push(`<option value="${n}">${n}</option>`);w.yearChoice.insertAdjacentHTML("beforeend",t.join(""))}();E=r("eWCmQ"),w=r("eaD4R");const F=window.SpeechRecognition||window.webkitSpeechRecognition;let $,_=!0;try{$=new F,$.lang="en-EN",$.interimResults=!1,$.maxAlternatives=1,$.onnomatch=function(e){E.Notify.failure("I didn't recognise that movie. Try again please"),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),$.stop()},$.onerror=function(e){alert(`Error occurred in recognition: ${e.error}`),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),$.stop()}}catch{_=!1}function D(e){const t=e.results[0][0].transcript;w.input.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),$.onspeechend=(console.log("Speech has stopped being detected"),$.removeEventListener("result",D),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),$.stop(),void console.log("recognition.stop",$.stop()))),w.input.dispatchEvent(new Event("input"))}w.microphoneIcon.addEventListener("click",(function(){w.input.value="",console.log("Ready to receive a movieName command."),_?($.addEventListener("result",D),w.recordIcon.classList.remove("visually-hidden"),w.microphoneIcon.classList.add("-active"),$.start()):alert("Your browser is not configured to use the microphone. Use normal search or search by genre")})),r("h8wPa"),r("bpn3I");
//# sourceMappingURL=index.90f0f2c2.js.map
