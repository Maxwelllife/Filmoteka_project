function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirec2b7;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequirec2b7=o),o("8pSXg");var i,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),v=Object.prototype.toString,h=Math.max,y=Math.min,g=function(){return p.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}i=function(e,t,n){var r,o,i,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function v(e){return u=e,s=setTimeout(L,t),l?p(e):a}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=i}function L(){var e=g();if(w(e))return j(e);s=setTimeout(L,function(e){var n=t-(e-c);return d?y(n,i-(e-u)):n}(e))}function j(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function T(){var e=g(),n=w(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return v(c);if(d)return s=setTimeout(L,t),p(c)}return void 0===s&&(s=setTimeout(L,t)),a}return t=b(t)||0,m(n)&&(l=!!n.leading,i=(d="maxWait"in n)?h(b(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),T.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},T.flush=function(){return void 0===s?a:j(g())},T};var w=o("eaD4R"),L=o("kvr73"),j=o("2nhTy"),T=o("g4lwF"),E=o("eWCmQ"),I=o("8pSXg");let x,k="";const C=new(0,L.default);async function M(){C.query=w.input.value.trim();const e=await S();if(e.total_results>20){w.pagiContainer.removeAttribute("style");(0,j.default)(e.total_results,20,w.pagiContainer).on("afterMove",O)}else e.total_results||E.Notify.failure("We are sorry, but we don't have such films."),w.pagiContainer.setAttribute("style","display: none");sessionStorage.setItem("window","home")}async function O(e){C.page=e.page;await S()}async function S(){w.loader.classList.remove("visually-hidden");try{w.checkbox.checked||C.year?(x=await C.fetchFilter(),x.total_results>1e4&&(x.total_results=1e4)):x=C.query?await C.fetchFilms():await C.fetchPopular(),k&&x.results.sort(((e,t)=>t[k]-e[k])),w.gallery.innerHTML=(0,T.createMarkup)(x.results),localStorage.setItem("LS",JSON.stringify(x.results))}catch(e){console.log(e),E.Notify.info("Ð¡heck your internet and try again please.")}return w.loader.classList.add("visually-hidden"),x}function N(){w.checkbox.checked?(w.inputSearch.setAttribute("style","opacity: 0"),w.genreChoice.removeAttribute("style")):(w.genreChoice.setAttribute("style","opacity: 0"),w.inputSearch.removeAttribute("style"))}w.input.addEventListener("input",e(i)(M,300)),w.checkbox.addEventListener("change",N),(0,I.checkLogin)(),N(),M(),o("dmm04");w=o("eaD4R");var A=o("eRClg");async function R(e){if("sort"===e.target.name)return t=e.target.value,k=t,x.results.sort(((e,t)=>t[k]-e[k])),void(w.gallery.innerHTML=(0,T.createMarkup)(x.results));var t;w.loader.classList.remove("visually-hidden"),C[e.target.name]=e.target.value,M(),w.loader.classList.add("visually-hidden")}w.filterInput.forEach((e=>e.addEventListener("change",R))),function(){const t=Object.keys(e(A)),n=[];for(const r of t)n.push(`<option value="${r}">${e(A)[r]}</option>`);w.genreChoice.insertAdjacentHTML("beforeend",n.join(""))}(),function(){let e=(new Date).getFullYear(),t=[];w.yearChoice.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(let n=e;n>1969;n-=1)t.push(`<option value="${n}">${n}</option>`);w.yearChoice.insertAdjacentHTML("beforeend",t.join(""))}();E=o("eWCmQ"),w=o("eaD4R");const $=window.SpeechRecognition||window.webkitSpeechRecognition;let _,D=!0;try{_=new $,_.lang="en-EN",_.interimResults=!1,_.maxAlternatives=1,_.onnomatch=function(e){E.Notify.failure("I didn't recognise that movie. Try again please"),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),_.stop()},_.onerror=function(e){alert(`Error occurred in recognition: ${e.error}`),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),_.stop()}}catch{D=!1}function F(e){const t=e.results[0][0].transcript;w.input.value=t,e.results[0].isFinal&&(_.onspeechend=(_.removeEventListener("result",F),w.recordIcon.classList.add("visually-hidden"),w.microphoneIcon.classList.remove("-active"),void _.stop())),w.input.dispatchEvent(new Event("input"))}w.microphoneIcon.addEventListener("click",(function(){w.input.value="",D?(_.addEventListener("result",F),w.recordIcon.classList.remove("visually-hidden"),w.microphoneIcon.classList.add("-active"),_.start()):alert("Your browser is not configured to use the microphone. Use normal search or search by genre")})),o("h8wPa"),o("bpn3I");
//# sourceMappingURL=index.ddb43b1b.js.map
