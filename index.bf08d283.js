!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirec2b7;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequirec2b7=o);var i,c=o("bpxeT"),a=o("2TvXO"),u=o("l5bVx"),s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,h=v||y||Function("return this")(),m=Object.prototype.toString,b=Math.max,g=Math.min,x=function(){return h.Date.now()};function w(t){var n=void 0===t?"undefined":e(u)(t);return!!t&&("object"==n||"function"==n)}function S(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==m.call(t)}(t))return NaN;if(w(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=w(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=f.test(t);return r||d.test(t)?p(t.slice(2),r?2:8):l.test(t)?NaN:+t}i=function(e,t,n){var r,o,i,c,a,u,s=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,c=e.apply(i,n)}function v(e){return s=e,a=setTimeout(h,t),l?p(e):c}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function h(){var e=x();if(y(e))return m(e);a=setTimeout(h,function(e){var n=t-(e-u);return f?g(n,i-(e-s)):n}(e))}function m(e){return a=void 0,d&&r?p(e):(r=o=void 0,c)}function L(){var e=x(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===a)return v(u);if(f)return a=setTimeout(h,t),p(u)}return void 0===a&&(a=setTimeout(h,t)),c}return t=S(t)||0,w(n)&&(l=!!n.leading,i=(f="maxWait"in n)?b(S(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),L.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=o=a=void 0},L.flush=function(){return void 0===a?c:m(x())},L};var L=o("7fh1U"),q=o("jcFG7"),T=o("9XBOy"),_=o("iU1Pc"),j=document.querySelector("#tui-pagination-container"),O=document.querySelector("#search-box"),k=document.querySelector(".gallery"),E=new(0,L.default);function M(){return A.apply(this,arguments)}function A(){return(A=e(c)(e(a).mark((function t(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.query=O.value.trim(),e.next=3,R();case 3:(n=e.sent).total_results>20?(j.removeAttribute("style"),(0,q.default)(n.total_results,20).on("afterMove",N)):(n.total_results||_.Notify.failure("Write somethig correct"),j.setAttribute("style","display: none"));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function N(e){return F.apply(this,arguments)}function F(){return(F=e(c)(e(a).mark((function t(n){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.page=n.page,e.next=3,R();case 3:e.sent;case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function R(){return H.apply(this,arguments)}function H(){return(H=e(c)(e(a).mark((function t(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,!E.query){e.next=8;break}return e.next=5,E.fetchFilms();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,E.fetchPopular();case 10:e.t0=e.sent;case 11:n=e.t0,console.log(n),k.innerHTML=(0,T.createMarkup)(n.results),localStorage.setItem("LS",JSON.stringify(n.results)),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.log(e.t1);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}O.addEventListener("input",e(i)(M,300)),M(),o("ibuZW");c=o("bpxeT"),a=o("2TvXO");var D=o("fKcg4"),I=(T=o("9XBOy"),document.querySelector("#genre_choice")),U=document.querySelector("#year_choice"),W=(document.querySelector("#sort_choice"),document.querySelectorAll(".filter__input")),X=document.querySelector(".gallery");document.querySelector("#search-box");function $(e){return B.apply(this,arguments)}function B(){return(B=e(c)(e(a).mark((function t(n){var r;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E[n.target.name]=n.target.value,e.next=3,E.fetchFilter();case 3:r=e.sent,X.innerHTML=(0,T.createMarkup)(r.results),localStorage.setItem("LS",JSON.stringify(r.results));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}W.forEach((function(e){return e.addEventListener("change",$)})),function(){var t=Object.keys(e(D)),n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var u=c.value;n.push('<option value="'.concat(u,'">').concat(e(D)[u],"</option>"))}}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}I.insertAdjacentHTML("beforeend",n.join(""))}(),function(){var e=(new Date).getFullYear(),t=[];U.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(var n=e;n>1969;n-=1)t.push('<option value="'.concat(n,'">').concat(n,"</option>"));U.insertAdjacentHTML("beforeend",t.join(""))}();var C=document.querySelector("#genre_checkbox"),G=document.querySelector(".header-search"),J=document.querySelector("#genre_choice");function P(){console.log(C.checked),C.checked?(G.setAttribute("style","opacity: 0"),J.removeAttribute("style")):(J.setAttribute("style","opacity: 0"),G.removeAttribute("style"))}C.addEventListener("change",P),P();var K=window.SpeechRecognition||window.webkitSpeechRecognition,V=document.querySelector(".header-search__btn-mic"),Y=document.querySelector(".header-search__icon-record"),Z=new K;function z(e){var t=e.results[0][0].transcript;O.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),Z.onspeechend=(console.log("Speech has stopped being detected"),Z.removeEventListener("result",z),Y.classList.add("visually-hidden"),V.classList.remove("-active"),Z.stop(),void console.log("recognition.stop",Z.stop()))),O.dispatchEvent(new Event("input"))}Z.lang="en-EN",Z.interimResults=!1,Z.maxAlternatives=1,V.addEventListener("click",(function(){O.value="",Z.addEventListener("result",z),Y.classList.remove("visually-hidden"),V.classList.add("-active"),Z.start(),console.log("Ready to receive a movieName command.")})),Z.onnomatch=function(e){alert("I didn't recognise that movie."),Y.classList.add("visually-hidden"),V.classList.remove("-active"),Z.stop()},Z.onerror=function(e){alert("Error occurred in recognition: ".concat(e.error)),Y.classList.add("visually-hidden"),V.classList.remove("-active"),Z.stop()},o("3BGx8")}();
//# sourceMappingURL=index.bf08d283.js.map
