!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirec2b7;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequirec2b7=o),o("3BGx8");var i,c=o("bpxeT"),a=o("2TvXO"),u=o("l5bVx"),s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,h=v||y||Function("return this")(),m=Object.prototype.toString,b=Math.max,g=Math.min,x=function(){return h.Date.now()};function w(t){var n=void 0===t?"undefined":e(u)(t);return!!t&&("object"==n||"function"==n)}function S(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==m.call(t)}(t))return NaN;if(w(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=w(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=f.test(t);return r||d.test(t)?p(t.slice(2),r?2:8):l.test(t)?NaN:+t}i=function(e,t,n){var r,o,i,c,a,u,s=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,c=e.apply(i,n)}function v(e){return s=e,a=setTimeout(h,t),l?p(e):c}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function h(){var e=x();if(y(e))return m(e);a=setTimeout(h,function(e){var n=t-(e-u);return f?g(n,i-(e-s)):n}(e))}function m(e){return a=void 0,d&&r?p(e):(r=o=void 0,c)}function L(){var e=x(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===a)return v(u);if(f)return a=setTimeout(h,t),p(u)}return void 0===a&&(a=setTimeout(h,t)),c}return t=S(t)||0,w(n)&&(l=!!n.leading,i=(f="maxWait"in n)?b(S(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),L.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=u=o=a=void 0},L.flush=function(){return void 0===a?c:m(x())},L};var L=o("7fh1U"),q=o("jcFG7"),T=o("9XBOy"),_=o("iU1Pc"),j=o("3BGx8"),O=document.querySelector("#tui-pagination-container"),k=document.querySelector("#search-box"),E=document.querySelector(".gallery"),M=(document.querySelector("#user"),new(0,L.default));function A(){return N.apply(this,arguments)}function N(){return(N=e(c)(e(a).mark((function t(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.query=k.value.trim(),e.next=3,H();case 3:(n=e.sent).total_results>20?(O.removeAttribute("style"),(0,q.default)(n.total_results,20).on("afterMove",F)):(n.total_results||_.Notify.failure("Write somethig correct"),O.setAttribute("style","display: none")),sessionStorage.setItem("window","home");case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function F(e){return R.apply(this,arguments)}function R(){return(R=e(c)(e(a).mark((function t(n){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.page=n.page,e.next=3,H();case 3:e.sent;case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function H(){return I.apply(this,arguments)}function I(){return(I=e(c)(e(a).mark((function t(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,!M.query){e.next=8;break}return e.next=5,M.fetchFilms();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,M.fetchPopular();case 10:e.t0=e.sent;case 11:n=e.t0,E.innerHTML=(0,T.createMarkup)(n.results),localStorage.setItem("LS",JSON.stringify(n.results)),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),console.log(e.t1);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}k.addEventListener("input",e(i)(A,300)),console.log("hello"),(0,j.checkLogin)(),A(),o("ibuZW");c=o("bpxeT"),a=o("2TvXO");var B=o("fKcg4"),D=(T=o("9XBOy"),document.querySelector("#genre_choice")),U=document.querySelector("#year_choice"),W=(document.querySelector("#sort_choice"),document.querySelectorAll(".filter__input")),X=document.querySelector(".gallery");document.querySelector("#search-box");function $(e){return G.apply(this,arguments)}function G(){return(G=e(c)(e(a).mark((function t(n){var r;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M[n.target.name]=n.target.value,e.next=3,M.fetchFilter();case 3:r=e.sent,X.innerHTML=(0,T.createMarkup)(r.results),localStorage.setItem("LS",JSON.stringify(r.results));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}W.forEach((function(e){return e.addEventListener("change",$)})),function(){var t=Object.keys(e(B)),n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var u=c.value;n.push('<option value="'.concat(u,'">').concat(e(B)[u],"</option>"))}}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}D.insertAdjacentHTML("beforeend",n.join(""))}(),function(){var e=(new Date).getFullYear(),t=[];U.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(var n=e;n>1969;n-=1)t.push('<option value="'.concat(n,'">').concat(n,"</option>"));U.insertAdjacentHTML("beforeend",t.join(""))}();var C=document.querySelector("#genre_checkbox"),J=document.querySelector(".header-search"),P=document.querySelector("#genre_choice");function V(){C.checked?(J.setAttribute("style","opacity: 0"),P.removeAttribute("style")):(P.setAttribute("style","opacity: 0"),J.removeAttribute("style"))}C.addEventListener("change",V),V();var Y,K=window.SpeechRecognition||window.webkitSpeechRecognition,Z=document.querySelector(".header-search__btn-mic"),z=document.querySelector(".header-search__icon-record"),Q=!0;try{(Y=new K).lang="en-EN",Y.interimResults=!1,Y.maxAlternatives=1,Y.onnomatch=function(e){alert("I didn't recognise that movie."),z.classList.add("visually-hidden"),Z.classList.remove("-active"),Y.stop()},Y.onerror=function(e){alert("Error occurred in recognition: ".concat(e.error)),z.classList.add("visually-hidden"),Z.classList.remove("-active"),Y.stop()}}catch(e){Q=!1}function ee(e){var t=e.results[0][0].transcript;k.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),Y.onspeechend=(console.log("Speech has stopped being detected"),Y.removeEventListener("result",ee),z.classList.add("visually-hidden"),Z.classList.remove("-active"),Y.stop(),void console.log("recognition.stop",Y.stop()))),k.dispatchEvent(new Event("input"))}Z.addEventListener("click",(function(){k.value="",Q?(Y.addEventListener("result",ee),z.classList.remove("visually-hidden"),Z.classList.add("-active"),Y.start()):alert("Your browser is not support microphone enter"),console.log("Ready to receive a movieName command.")})),o("8VrgS")}();
//# sourceMappingURL=index.08100c6f.js.map
